<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>OkHttp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Um cliente HTTP &amp; HTTP/2 para Android e aplicações Java">
    <link href="../static/bootstrap-combined.min.css" rel="stylesheet">
    <link href="../static/app.css" rel="stylesheet">
    <link href="../static/app-theme.css" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Roboto:400,300italic,100,100italic,300" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]><script src="../static/html5shiv.min.js"></script><![endif]-->
  </head>
  <body data-target=".content-nav">
    <header>
      <div class="container">
        <div class="row">
          <div class="span5">
            <h1>OkHttp</h1>
          </div>
          <div class="span7">
            <menu>
              <ul>
                <li><a href="#download" class="menu download">Faça download da <span class="version-tag">ultima versão</span></a></li>
                <li><a href="http://github.com/square/okhttp" data-title="Veja a página do GitHub" class="menu github"><img src="../static/icon-github.png" alt="GitHub"/></a></li>
                <li><a href="http://square.github.io/" data-title="Square Open Source Portal" class="menu square"><img src="../static/icon-square.png" alt="Square"/></a></li>
              </ul>
            </menu>
          </div>
        </div>
      </div>
    </header>
    <section id="subtitle">
      <div class="container">
        <div class="row">
          <div class="span12">
            <h2>Um cliente <strong>HTTP &amp; HTTP/2</strong> para Android e aplicações Java</h2>
          </div>
        </div>
      </div>
    </section>
    <section id="body">
      <div class="container">
        <div class="row">
          <div class="span9">
            <h3 id="overview">Intro</h3>
            <p>O HTTP é a forma mais moderna de realizar requisições web. Essa é a forma que é realizada troca de dados e mídia.
                Ele realiza requisições HTTP de forma eficiente, atingindo um carregamento mais rápido e um reduzido o uso de banda da internet.</p>

            <p>O OkHttp é um cliente HTTP que é eficiente por padrão:</p>
            <ul>
              	<li>O HTTP/2 permite requisições para um mesmo host a fim de compartilhar conexões;</li>
                <li>Pooling de conexões para reduzir a lantência das requisições (caso HTTP/2 indisponivel);</li>
                <li>Uso transparente do GZIP para reduzir o tamanho das requisições;</li>
                <li>Cache de respostas das requisições com o objetivo de reduzir as repetições de requisições.</li>
            </ul>

            <p> O OkHttp entende que conexões com a internet possuem problemas, ele vai silenciosamente recurperar-se 
              de erros comuns de conexão. Caso o seu serviço possui multiplos endereços IP, o OKHttp vai
              tentar alternar os endereços caso ocorra algum erro com a primeira conexão. Isso é necessario
              para entrar em conformidade com os protocolos IPv4+IPv6 e para serviços hospedados em data 
              centers redundantes. O OkHttp inicializa novas conexões, utlizando o moderno TLS (SNI, ALPN)
              e possui o callback para TLS 1.0, caso o handshake falhe.</p>

            <p>Para usar o OkHttp é fácil. As requisições e respostas da API foram construidas para utizar construtores fluentes e
                imutáveis. O OkHttp suporta blocos sincronos e assincronos, estes utilizando callbacks como retorno.</p>

            <p>O OkHttp suporta o Android 2.3 ou superior. Quando usado com Java, a versão minima necessária é a 1.7.</p>

            <h3 id="examples">Exemplos</h3>
            <h4>GET</h4>
            <p>Esse código vai realizar uma requisição a uma URL e imprimir o resultado como uma string <a href="https://raw.github.com/square/okhttp/master/samples/guide/src/main/java/okhttp3/guide/GetExample.java">Source completa</a>.
<pre class="prettyprint">
OkHttpClient client = new OkHttpClient();

String run(String url) throws IOException {
  Request request = new Request.Builder()
      .url(url)
      .build();

  Response response = client.newCall(request).execute();
  return response.body().string();
}
</pre>
            <h4>POST</h4>
            <p>Essa aplicação realiza uma requisição POST, enviando um JSON como parâmetros utilizando um serviço. <a href="https://raw.github.com/square/okhttp/master/samples/guide/src/main/java/okhttp3/guide/PostExample.java">Source completa</a>.

<pre class="prettyprint">
public static final MediaType JSON
    = MediaType.parse("application/json; charset=utf-8");

OkHttpClient client = new OkHttpClient();

String post(String url, String json) throws IOException {
  RequestBody body = RequestBody.create(JSON, json);
  Request request = new Request.Builder()
      .url(url)
      .post(body)
      .build();
  Response response = client.newCall(request).execute();
  return response.body().string();
}
</pre>

            <h3 id="download">Download</h3>
            <p><a href="https://search.maven.org/remote_content?g=com.squareup.okhttp3&a=okhttp&v=LATEST" class="dl version-href">&darr; <span class="version-tag">Ultima versão</span> do JAR</a></p>
            <p>Você vai precisar do <a href="http://github.com/square/okio">Okio</a>, o OkHttp 
              usa para realizar I/O de forma rápida e buffers dinâmicos. Faça o download em
                <a href="https://search.maven.org/remote_content?g=com.squareup.okio&a=okio&v=LATEST">para obter a ultima versão do JAR</a>.
            <p>O código da biblioteca, exemplos e o website estão disponiveis <a href="http://github.com/square/okhttp">no GitHub</a>.</p>

            <h4>Maven</h4>
            <pre class="prettyprint">&lt;dependency>
  &lt;groupId>com.squareup.okhttp3&lt;/groupId>
  &lt;artifactId>okhttp&lt;/artifactId>
  &lt;version><span class="version pln"><em>(insira a ultima versão aqui)</em></span>&lt;/version>
&lt;/dependency></pre>

            <h4>Gradle</h4>
            <pre class="prettyprint">compile 'com.squareup.okhttp3:okhttp:<span class="version pln"><em>(insira a última versão aqui)</em></span>'</pre>

            <h3 id="contributing">Contribuindo</h3>
            <p>Se você deseja contribuir, dê um fork do repositório através do GitHub, faça suas alterações e envie um PR.</p>
            <p>Quando você enviar o código, certifique-se que você manteve as convenções e o estilo do código, com objetivo de manter o código mais legivel possivel. Por favor, certifique-se que o código está compilando executando o comando  <code>mvn clean verify</code>.</p>
						<p>Antes de seu código poder ser aceito no projeto, você deve se registrar em <a href="http://squ.re/sign-the-cla">Individual Contributor License Agreement (CLA)</a>.</p>

            <h3 id="license">Licenças</h3>
            <pre>Copyright 2016 Square, Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</pre>
          </div>
          <div class="span3">
            <div class="content-nav" data-spy="affix" data-offset-top="80">
              <ul class="nav nav-tabs nav-stacked primary">
                <li><a href="#overview">Intro</a></li>
                <li><a href="#examples">Exemplos</a></li>
                <li><a href="#download">Download</a></li>
                <li><a href="#contributing">Contribuindo</a></li>
                <li><a href="#license">Licenças</a></li>
              </ul>
              <ul class="nav nav-pills nav-stacked secondary">
                <li><a href="https://github.com/square/okhttp/wiki">Wiki</a></li>
                <li><a href="3.x/okhttp/">Javadoc</a></li>
                <li><a href="http://stackoverflow.com/questions/tagged/okhttp?sort=active">StackOverflow</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="span12 logo">
            <a href="https://squareup.com"><img src="../static/logo-square.png" alt="Square, Inc."/></a>
          </div>
        </div>
      </div>
    </section>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="../static/bootstrap.min.js"></script>
    <script src="../static/jquery.smooth-scroll.min.js"></script>
    <script src="../static/jquery-maven-artifact.min.js"></script>
    <script src="../static/prettify.js"></script>
    <script type="text/javascript">
      $(function() {
        // Syntax highlight code blocks.
        prettyPrint();

        // Spy on scroll position for real-time updating of current section.
        $('body').scrollspy();

        // Use smooth-scroll for internal links.
        $('a').smoothScroll();

        // Enable tooltips on the header nav image items.
        $('.menu').tooltip({
          placement: 'bottom',
          trigger: 'hover',
          container: 'body',
          delay: {
            show: 500,
            hide: 0
          }
        });

        // Look up the latest version of the library.
        $.fn.artifactVersion({
          'groupId': 'com.squareup.okhttp3',
          'artifactId': 'okhttp'
        }, function(version, url) {
          $('.version').text(version);
          $('.version-tag').text('v' + version);
          $('.version-href').attr('href', url);
        });
      });

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-40704740-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
